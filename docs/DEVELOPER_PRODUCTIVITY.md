# Developer Productivity Guidelines (Global Standard)

圧倒的に開発効率を高く保つための実践ガイド。速度と品質を両立し、無駄なコンテキスト切り替えを減らすことに集中する。

## 思考と作業の基本
- 一筆書きで進む: ゴール→最小のアウトプット→検証の順で短いループを刻む。長い未完作業を持たない。
- 変化の少ない部分に寄りかかる: 安定したAPI/型/デザインガイドに合わせて作り、後付け修正を減らす。
- 迷ったらログを取る: 設計判断・計測結果・ブロッカーを短文で残し、同じ問題を繰り返さない。

## ブランチとPR運用
- 小さく頻繁に: 1PR = 1目的。大規模変更は段階に分け、先に前提整理PRを出す。
- 早期ドラフト: 方向性が不安なら早めにドラフトPRを作り、コメントで方針を共有。
- 差分の見やすさ優先: 自動生成物は除外、リネーム/移動は分割、テスト・型の追加はセットで。

## 環境とツール
- 即動く環境を維持: `npm test`, `npm run lint`, `npm run dev` が常に通る状態を保つ。セットアップ手順はREADMEに即反映。
- スニペットとテンプレ: 新Feature/Hook/Component/Storyの雛形を用意し、コピペから始められるようにする。
- 自動化を惜しまない: 生成・整形・チェックはスクリプト化。手作業は2回で自動化検討。

## 設計と実装
- ドメイン境界を守る: `features` 単位で閉じ、共有は `shared` に昇格させるまで待つ。依存方向は単純に。
- 型で契約を書く: APIレスポンス・props・引数の型を先に置き、実装は型を埋める作業にする。
- 先に失敗パスを書く: ガード節で前提を確定させ、エラー/空状態を先に処理する。後工程のデバッグを減らす。
- 変更箇所を局所化: 振る舞いに関するUI/ロジック/テスト/モックを近接させ、移動も容易にする。

## フィードバックループを短く
- テストの粒度を揃える: 単体（ロジック）と結合（UI/Hook）を分け、速いテストを常用。遅いE2EはCI主体。
- ログとメトリクスを即追加: 新機能には最低限の計測・エラーログポイントを同梱し、リリース後の確認を短縮。
- 失敗を早く出す: 型チェック・lint・フォーマットを保存時/PR時に自動実行。レビュー前に赤を潰す。

## ナレッジ共有
- 変更の意図を短文で: PR/コミットメッセージに「何を/なぜ/どう検証」を1–2文で残す。
- 再現手順と観察結果: バグ対応では再現手順・期待/実際・原因・修正方針をセットで書く。後続の追跡を容易に。
- ガイド更新を怠らない: デザイン/ディレクトリ/セキュリティ/コーディング規約に変更があれば即ドキュメントを更新し、参照を一点化する。

## 判断のショートチェック
- これはどのドメインの責務か？ → 該当feature配下に置けているか。
- もっと小さい単位に分けられるか？ → PRやコミットを分割できるか。
- 実行と検証は最短か？ → スクリプト/テスト/ログで即確認できるか。
- 後から動かせる構造か？ → 型・依存・配置を見直して可搬性を確保したか。
